<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BookMood - Badges</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
    body { font-family: 'Inter', sans-serif; background:#0f0f23; color:#fff; margin:0; padding-top:100px; }
    .navbar { position: fixed; top:0; left:0; right:0; background: rgba(15,15,35,0.9); backdrop-filter: blur(20px); border-bottom:1px solid rgba(255,255,255,0.1); padding:1rem 0; z-index:1000; }
    .nav-container { max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; padding:0 2rem; }
    .nav-logo { font-size:1.5rem; font-weight:800; background: linear-gradient(135deg,#667eea,#22c55e); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-decoration:none; }
    .nav-links a { color:#ccc; text-decoration:none; margin-left:1.5rem; font-weight:500; }
    .nav-links a.active { color:#fff; }
    .container { max-width:1000px; margin:auto; }
    h1, h2 { text-align:center; margin-bottom:1rem; }
    .reset-btn { display:block; margin:1rem auto 2rem; padding:0.8rem 2rem; font-size:1rem; font-weight:700; border:none; border-radius:50px; background: linear-gradient(135deg,#ff7e5f,#feb47b); color:white; cursor:pointer; }

    .badges-container { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:1rem; margin-top:1rem; }
    .badge-item { border-radius:16px; padding:1rem; text-align:center; box-shadow:0 5px 15px rgba(0,0,0,0.1); position:relative; }
    .badge-emoji { font-size:2rem; margin-bottom:0.5rem; display:block; }
    .badge-name { font-weight:600; margin-bottom:0.3rem; }
    .badge-count { font-size:0.9rem; color:#eee; }

    .bronze { background:#cd7f32; color:white; }
    .silver { background:#c0c0c0; color:black; }
    .gold { background:#ffd700; color:black; }
    .diamond { background:#b9f2ff; color:black; }
    .platinum { background:#e5e4e2; color:black; }

    /* Hamburger */
    .hamburger-container { position: fixed; top:10px; right:10px; z-index:9999; }
    .hamburger-btn { font-size:24px; background: rgba(0,0,0,0.6); border:none; border-radius:8px; padding:8px 12px; cursor:pointer; color:white; }
    .hamburger-menu { display:none; position:absolute; top:40px; right:0; background: rgba(0,0,0,0.7); backdrop-filter:blur(10px); border-radius:12px; padding:10px; min-width:180px; }
    .hamburger-menu a { display:block; padding:8px; color:white; text-decoration:none; border-radius:6px; }
    .hamburger-menu a:hover { background: rgba(255,255,255,0.1); }
    .menu-header { padding:10px; font-weight:bold; border-bottom:1px solid rgba(255,255,255,0.2); margin-bottom:8px; }
    .logout-btn { color:#ff6b6b !important; }
</style>
</head>
<body>

<!-- Hamburger Menu -->
<div class="hamburger-container">
    <button class="hamburger-btn" onclick="toggleMenu()">‚ò∞</button>
    <div id="hamburgerMenu" class="hamburger-menu">
        <div class="menu-header">üë§ {{ username }}</div>
        <a href="/">Home</a>
        <a href="/shelves">Shelves</a>
        <a href="/challenges">Challenges</a>
        <a href="/badges" class="active">Badges</a>
        <a href="/about">About</a>
        <hr>
        <a href="/logout" class="logout-btn">üö™ Logout</a>
    </div>
</div>

<nav class="navbar">
    <div class="nav-container">
        <a href="/" class="nav-logo">üìö BookMood</a>
        <div class="nav-links">
            <a href="/">Home</a>
            <a href="/shelves">Shelves</a>
            <a href="/challenges">Challenges</a>
            <a href="/badges" class="active">Badges</a>
            <a href="/about">About</a>
        </div>
    </div>
</nav>

<div class="container">
    <h1>üèÜ Your Proud Wall</h1>
    <button class="reset-btn" onclick="resetBadges()">üßπ Reset All Badges</button>
    <div id="badges" class="badges-container"></div>
</div>

<script>
function toggleMenu() {
    const menu = document.getElementById("hamburgerMenu");
    menu.style.display = (menu.style.display==="block")?"none":"block";
}
document.addEventListener("click", function(e){
    const menu = document.getElementById("hamburgerMenu");
    const btn = document.querySelector(".hamburger-btn");
    if(!menu.contains(e.target)&&!btn.contains(e.target)){ menu.style.display="none"; }
});

let userBadges = JSON.parse(localStorage.getItem("userBadges")||'[]');

function displayBadges(){
    const container = document.getElementById("badges");
    if(userBadges.length===0){
        container.innerHTML="<p style='text-align:center;'>No badges yet. Complete challenges to earn badges!</p>";
        return;
    }
    container.innerHTML = userBadges.map(b=>{
        return `<div class="badge-item ${b.rank}">
                    <span class="badge-emoji">${b.name.split(' ')[0]}</span>
                    <div class="badge-name">${b.name}</div>
                    <div class="badge-count">Rank: ${b.rank.toUpperCase()} | Completed: ${b.count} times</div>
                </div>`;
    }).join('');
}

function resetBadges(){
    if(confirm("Are you sure you want to reset all badges?")){
        localStorage.removeItem("userBadges");
        userBadges = [];
        displayBadges();
    }
}

window.addEventListener('load', displayBadges);
</script>
</body>
</html>
